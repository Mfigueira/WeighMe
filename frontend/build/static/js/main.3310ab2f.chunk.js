(this["webpackJsonpweighme-frontend"]=this["webpackJsonpweighme-frontend"]||[]).push([[0],{126:function(e,t,n){e.exports={link:"AuthenticationMenu_link__1wFsl",btn:"AuthenticationMenu_btn__rhQ54"}},159:function(e,t,n){e.exports={container:"Header_container__21wXn",icon:"Header_icon__1sL6t",toolbar:"Header_toolbar__Mg8I5"}},160:function(e,t,n){e.exports={cta:"EditWeighingModal_cta__3nhQi",spinner:"EditWeighingModal_spinner__3RL_H"}},184:function(e,t,n){e.exports={icon:"ProfileMenu_icon__1Yxs4",link:"ProfileMenu_link__M4jIE"}},185:function(e,t,n){e.exports={btn:"EditWeighingButton_btn__14IOi",custom:"EditWeighingButton_custom__2jfCH"}},253:function(e,t,n){},257:function(e,t,n){e.exports={main:"Main_main__3JhNz"}},273:function(e,t,n){e.exports={footer:"Footer_footer__7dIj9"}},274:function(e,t,n){e.exports={snackbar:"AppNotification_snackbar__2RjBH"}},303:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},333:function(e,t,n){},438:function(e,t,n){"use strict";n.r(t);var a=n(22),r=n.n(a),c=n(75),i=n(24),o=n(8),s=n(0),l=n.n(s),u=n(3),d={open:!1,message:"",severity:"success"},j=l.a.createContext({alert:{},onCloseAlert:function(){},onSuccessAlert:function(){},onErrorAlert:function(){}}),b=function(e){var t=e.children,n=Object(s.useState)(d),a=Object(o.a)(n,2),r=a[0],c=a[1],l=Object(s.useCallback)((function(){return c((function(e){return Object(i.a)(Object(i.a)({},e),{},{open:!1})}))}),[]),b=Object(s.useCallback)((function(e){l(),setTimeout((function(){c({open:!0,message:e,severity:"success"})}),150)}),[l]),h=Object(s.useCallback)((function(e){console.error(e),l(),setTimeout((function(){var t,n,a;c({open:!0,message:null!==(t=null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.msg)&&void 0!==t?t:"An unexpected error ocurred.",severity:"error"})}),150)}),[l]);return Object(u.jsx)(j.Provider,{value:{alert:r,onCloseAlert:l,onSuccessAlert:b,onErrorAlert:h},children:t})},h=[{path:"/",tab:0},{path:"/grid",tab:1},{path:"/chart",tab:2}],g=function(e){var t=e?new Date(e):new Date,n=t.getFullYear(),a="".concat(t.getMonth()+1).padStart(2,0),r="".concat(t.getDate()).padStart(2,0),c="".concat(t.getHours()).padStart(2,0),i="".concat(t.getMinutes()).padStart(2,0);return"".concat(n,"-").concat(a,"-").concat(r,"T").concat(c,":").concat(i)},x=function(e){return e.split(":").length>2?e.slice(0,e.lastIndexOf(":")):e},O=Array.from({length:12},(function(e,t){return new Date(0,t).toLocaleString("en-US",{month:"long"})})),m=function(e){return/^[\S]{0,12}$/.test(e)},p=function(e){return/^[\S]{0,20}$/.test(e)},f=function(e){return/^[0-9]{0,3}([.]{1}[0-9]{0,2}){0,1}$/.test(e)},v=l.a.createContext({token:null,onLogin:function(){},onLogout:function(){}}),y=function(e){var t=e.children,n=Object(s.useState)(localStorage.getItem("token")),a=Object(o.a)(n,2),r=a[0],c=a[1],i=Object(s.useCallback)((function(e){!function(e){localStorage.setItem("token",e)}(e),c(e)}),[]),l=Object(s.useCallback)((function(){localStorage.removeItem("token"),c(void 0)}),[]);return Object(u.jsx)(v.Provider,{value:{token:r,onLogin:i,onLogout:l},children:t})},w=(n(303),n(27)),C=n(514),k=n(495),S=function(){var e=Object(w.g)(),t=Object(w.h)(),n=Object(s.useState)(function(e){var t,n;return null!==(t=null===(n=h.find((function(t){return t.path===e})))||void 0===n?void 0:n.tab)&&void 0!==t?t:0}(t.pathname)),a=Object(o.a)(n,2),r=a[0],c=a[1],l=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}};return Object(u.jsx)("nav",{style:{backgroundColor:"#a8dac5"},children:Object(u.jsxs)(C.a,{value:r,onChange:function(t,n){e.push(function(e){var t,n;return null!==(t=null===(n=h.find((function(t){return t.tab===e})))||void 0===n?void 0:n.path)&&void 0!==t?t:0}(n)),c(n)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(u.jsx)(k.a,Object(i.a)({label:"Scale"},l(0))),Object(u.jsx)(k.a,Object(i.a)({label:"Grid"},l(1))),Object(u.jsx)(k.a,Object(i.a)({label:"Chart"},l(2)))]})})},_=n(31),W=n.n(_),A=n(44),N=n(9),D=n(275),F=n(86),I=n(87),E=n.p+"static/media/user.c3f44b78.svg",M=n(184),z=n.n(M),B=n(520),L=n(496),P=function(){return Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)(L.a,{width:"26px",height:"26px",variant:"circle",style:{backgroundColor:"rgba(203, 213, 224, 0.7)",marginRight:"10px"},children:Object(u.jsx)(B.a,{})}),Object(u.jsx)(L.a,{width:"100px",height:"16px",variant:"rect",style:{backgroundColor:"rgba(203, 213, 224, 0.7)",borderRadius:"2px"}})]})},T=n(158),H=n.n(T),R="https://weighme.herokuapp.com/api",J={headers:{"content-type":"application/json"}},q=function(e,t){return H.a.get(R+t,{headers:Object(i.a)(Object(i.a)({},J.headers),{},{Authorization:"Bearer ".concat(e)})})},U=function(e,t,n){return H.a.post(R+n,t,{headers:Object(i.a)(Object(i.a)({},J.headers),{},{Authorization:"Bearer ".concat(e)})})},G=function(e,t){return H.a.post(R+t,e,J)},K=function(e){return q(e,"/profile")},$=function(e){return q(e,"/weighings")},Q=function(e,t){return U(e,t,"/add_weighing")},V=function(e,t){return U(e,t,"/update_weighing")},Y=function(e,t){return U(e,t,"/delete_weighing")},X=Object(N.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(u.jsx)(D.a,Object(i.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Z=function(){var e=Object(s.useState)({}),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(null),c=Object(o.a)(r,2),i=c[0],l=c[1],d=Object(s.useContext)(j),b=d.onSuccessAlert,h=d.onErrorAlert,g=Object(s.useContext)(v),x=g.token,O=g.onLogout;Object(s.useEffect)((function(){Object(A.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(x);case 3:t=e.sent,a(t.data),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),a({}),O(),h("Could not get profile data");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[x,O,h]);var m=function(){return l(null)};return n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(F.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return l(e.currentTarget)},style:{color:"#fff",textTransform:"none",overflow:"hidden"},children:[Object(u.jsx)("img",{src:E,className:z.a.icon,alt:"user"}),n.name]}),Object(u.jsx)(X,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:m,children:Object(u.jsx)(I.a,{onClick:function(){m(),O(),b("Logged out, bye!")},style:{padding:"0"},children:Object(u.jsx)("span",{className:z.a.link,children:"Sign Out"})})})]}):Object(u.jsx)(P,{})},ee=n(497),te=n(126),ne=n.n(te),ae=function(){return Object(u.jsxs)(ee.a,{variant:"text","aria-label":"authentication",children:[Object(u.jsx)(F.a,{className:ne.a.btn,children:Object(u.jsx)(c.b,{to:"/",className:ne.a.link,children:"Sign In"})}),Object(u.jsx)(F.a,{className:ne.a.btn,children:Object(u.jsx)(c.b,{to:"/register",className:ne.a.link,children:"New user"})})]})},re=n(498),ce=n(499),ie=n(159),oe=n.n(ie),se=n.p+"static/media/scale.8fe8eb1f.svg",le=function(){var e=Object(s.useContext)(v).token;return Object(u.jsxs)("div",{className:oe.a.container,children:[Object(u.jsx)(re.a,{position:"static",children:Object(u.jsxs)(ce.a,{className:oe.a.toolbar,children:[Object(u.jsx)("img",{src:se,className:oe.a.icon,alt:"scale"}),Object(u.jsx)("h1",{children:"WeighMe"}),e&&Object(u.jsx)(Z,{}),!e&&Object(u.jsx)(ae,{})]})}),e&&Object(u.jsx)(S,{})]})},ue=n(257),de=n.n(ue),je=(n(330),n.p+"static/media/bg-scale.50ec51df.svg"),be=n.p+"static/media/add.d3ae5c1f.svg",he=n.p+"static/media/add-disabled.57abca65.svg",ge=n(128),xe=n(500),Oe=n(501),me=n(201),pe=n(503),fe=n(444),ve=n(25),ye=l.a.createContext({weighings:[],setWeighings:function(){},onAddWeighing:function(){},onEditWeighing:function(){},onRemoveWeighing:function(){}}),we=function(e){var t=e.children,n=Object(s.useState)([]),a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(u.jsx)(ye.Provider,{value:{weighings:r,setWeighings:c,onAddWeighing:function(e){return c((function(t){return[].concat(Object(ve.a)(t),[e]).sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)}))}))},onEditWeighing:function(e){return c((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))},onRemoveWeighing:function(e){return c((function(t){return t.filter((function(t){return t.id!==e}))}))}},children:t})},Ce=function(){var e=Object(s.useContext)(v).token,t=Object(s.useContext)(ye).onAddWeighing,n=Object(s.useContext)(j),a=n.onSuccessAlert,r=n.onErrorAlert,c=Object(s.useState)(""),l=Object(o.a)(c,2),d=l[0],b=l[1],h=Object(s.useState)(g),O=Object(o.a)(h,2),m=O[0],p=O[1],y=Object(s.useState)(!1),w=Object(o.a)(y,2),C=w[0],k=w[1],S=function(){var n=Object(A.a)(W.a.mark((function n(c){var o,s;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),k(!0),n.prev=2,o={weight:d,datetime:m},n.next=6,Q(e,JSON.stringify(o));case 6:s=n.sent,o.id=s.data.id,t(Object(i.a)(Object(i.a)({},o),{},{weight:+o.weight})),b(""),p(g),a("Weighing added!"),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),r(n.t0);case 17:k(!1);case 18:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e){return n.apply(this,arguments)}}(),_={container:{boxShadow:"0px 7px 8px #888888",borderRadius:"60px",backgroundImage:"url(".concat(je,")"),backgroundRepeat:"no-repeat",backgroundSize:"100%",padding:"2rem",width:"300px",height:"300px",boxSizing:"border-box"},form:{paddingTop:"7rem",position:"relative"}};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{children:["Let's"," ",Object(u.jsx)("p",{children:Object(u.jsx)("b",{children:"Weigh Me!"})})]}),Object(u.jsx)("div",{id:"addWeighingForm",style:_.container,children:Object(u.jsxs)("form",{onSubmit:S,style:_.form,children:[Object(u.jsx)("div",{style:{marginBottom:"1.2rem"},children:Object(u.jsx)(ge.a,{children:Object(u.jsx)(xe.a,{id:"addWeighingFormWeight",value:d,type:"number",inputProps:{step:.01,min:0,max:999.99},autoComplete:"off",placeholder:"0.00",onChange:function(e){return f("".concat(e.target.value))&&b(e.target.value)},onKeyDown:function(e){return"e"===e.key&&e.preventDefault()},endAdornment:Object(u.jsx)(Oe.a,{position:"end",children:Object(u.jsx)("span",{style:{color:"#fff",fontSize:"1rem",marginTop:"2rem"},children:"Kg"})}),style:{fontSize:"3rem"}})})}),Object(u.jsx)("div",{children:Object(u.jsx)(me.a,{id:"addWeighingFormDatepicker",label:"When?",type:"datetime-local",autoComplete:"off",value:m,InputLabelProps:{shrink:!0},onChange:function(e){return p(x(e.target.value))}})}),Object(u.jsx)(pe.a,{id:"addWeighingFormAddButton","aria-label":"Add",type:"submit",disabled:!d||!m||C,children:C?Object(u.jsx)(fe.a,{style:{height:"25px",width:"25px"}}):Object(u.jsx)("img",{src:d&&m?be:he,alt:"Add",style:d&&m&&!C?{width:"100%"}:{width:"100%",opacity:"0.5"}})})]})})]})},ke=(n(331),n(47)),Se=n(517),_e=n(504),We=n(445),Ae=n(160),Ne=n.n(Ae),De=Object(ke.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #444",borderRadius:"6px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),backgroundImage:"linear-gradient(#a4dad2, #bce08a)",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})),Fe=function(e){var t=e.id,n=e.weight,a=e.datetime,r=e.open,c=e.onClose,l=Object(s.useContext)(v).token,d=Object(s.useContext)(ye),b=d.onEditWeighing,h=d.onRemoveWeighing,g=Object(s.useContext)(j),O=g.onSuccessAlert,m=g.onErrorAlert,p=De(),y=Object(s.useState)(""),w=Object(o.a)(y,2),C=w[0],k=w[1],S=Object(s.useState)(""),_=Object(o.a)(S,2),N=_[0],D=_[1],I=Object(s.useState)(!1),E=Object(o.a)(I,2),M=E[0],z=E[1],B=Object(s.useState)(!1),L=Object(o.a)(B,2),P=L[0],T=L[1],H=Object(s.useState)(!1),R=Object(o.a)(H,2),J=R[0],q=R[1],U=Object(s.useState)(!1),G=Object(o.a)(U,2),K=G[0],$=G[1],Q=function(){var e=Object(A.a)(W.a.mark((function e(){var r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,r={id:t,weight:"".concat(M?C:n),datetime:P?N:a},e.next=5,V(l,JSON.stringify(r));case 5:c(),b(Object(i.a)(Object(i.a)({},r),{},{weight:+r.weight})),O("Weighing updated."),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),m(e.t0);case 13:q(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(A.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.prev=1,e.next=4,Y(l,JSON.stringify({id:t}));case 4:c(),h(t),O("Weighing deleted."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),m(e.t0);case 12:$(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(Se.a,{className:p.modal,open:r,onClose:c,closeAfterTransition:!0,BackdropComponent:_e.a,BackdropProps:{timeout:500},children:Object(u.jsx)(We.a,{in:r,children:Object(u.jsxs)("div",{className:p.paper,children:[Object(u.jsx)("h2",{children:"Edit Weighing"}),Object(u.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("div",{style:{marginBottom:"1.2rem",textAlign:"center"},children:Object(u.jsx)(ge.a,{children:Object(u.jsx)(xe.a,{id:"addWeighingFormWeight",value:M?C:n,type:"number",inputProps:{step:.01,min:0,max:999.99},autoComplete:"off",placeholder:"0.00",onChange:function(e){f("".concat(e.target.value))&&(k(e.target.value),!M&&z(!0))},onKeyDown:function(e){return"e"===e.key&&e.preventDefault()},endAdornment:Object(u.jsx)(Oe.a,{position:"end",children:Object(u.jsx)("span",{style:{fontSize:"1rem",marginTop:"2rem"},children:"Kg"})}),style:{fontSize:"3rem"}})})}),Object(u.jsx)("div",{style:{marginBottom:"3rem",textAlign:"center"},children:Object(u.jsx)(me.a,{id:"addWeighingFormDatepicker",label:"When?",type:"datetime-local",autoComplete:"off",value:P?N:a,InputLabelProps:{shrink:!0},onChange:function(e){D(x(e.target.value)),!P&&T(!0)}})}),Object(u.jsxs)("div",{className:Ne.a.cta,children:[Object(u.jsx)(F.a,{variant:"contained",color:"secondary",onClick:X,disable:K,children:K?Object(u.jsx)(fe.a,{className:Ne.a.spinner}):"Delete"}),Object(u.jsx)(F.a,{variant:"contained",color:"primary",onClick:Q,disabled:!t||!C&&!N||J,children:J?Object(u.jsx)(fe.a,{className:Ne.a.spinner}):"Update"}),Object(u.jsx)(F.a,{variant:"contained",onClick:c,children:"Cancel"})]})]})]})})})},Ie=n(185),Ee=n.n(Ie),Me=n.p+"static/media/edit.314ec8e2.svg",ze=function(e){var t=e.id,n=e.weight,a=e.datetime,r=Object(s.useState)(!1),c=Object(o.a)(r,2),i=c[0],l=c[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(F.a,{variant:"contained",color:"primary",size:"small",className:"".concat(Ee.a.btn," ").concat(Ee.a.custom),onClick:function(){return l(!0)},children:Object(u.jsx)("img",{src:Me,alt:"edit"})}),i&&Object(u.jsx)(Fe,{id:t,weight:n,datetime:a,open:i,onClose:function(){return l(!1)}})]})},Be=n.p+"static/media/alert.df96154c.svg",Le=n(95),Pe=function(){return Object(u.jsxs)(Le.c,{style:{display:"flex",justifyContent:"center"},children:[Object(u.jsx)("img",{src:Be,alt:"alert",style:{marginRight:"10px",width:"50px"}}),Object(u.jsx)("i",{children:"No Weighings to show"})]})},Te=n(202),He=n(197),Re=[{label:"is",value:"is",getApplyFilterFn:function(e,t){return e.columnField&&e.value&&e.operatorValue?function(n){var a=t.valueGetter?t.valueGetter(n):n.value;return e.value.indexOf(a)>=0}:null},InputComponent:function(e){var t=e.item,n=e.applyValue;return Object(u.jsxs)(ge.a,{children:[Object(u.jsx)(Te.a,{shrink:!0,htmlFor:"custom-months-filter",children:"Select month/s"}),Object(u.jsx)(He.a,{multiple:!0,native:!0,value:t.value,onChange:function(e){for(var a=e.target.options,r=[],c=0,o=a.length;c<o;c+=1)a[c].selected&&r.push(a[c].value);n(Object(i.a)(Object(i.a)({},t),{},{value:r}))},inputProps:{id:"custom-months-filter"},children:O.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})]})},InputComponentProps:{type:"array"}}],Je=function(){var e=Object(s.useContext)(ye).weighings,t=e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{datetime:new Date(e.datetime),month:(t=e.datetime,O[new Date(t).getMonth()])});var t})),n=[{field:"datetime",type:"dateTime",headerName:"Date & Time",flex:1.5,headerClassName:"weighing-grid-th"},{field:"month",type:"string",headerName:"Month",hide:!0,headerClassName:"weighing-grid-th",filterOperators:Re},{field:"weight",type:"string",headerName:"Weight (kg)",flex:1,headerClassName:"weighing-grid-th",renderCell:function(e){return Object(u.jsxs)("div",{style:{textAlign:"center",width:"100%",position:"relative"},children:[e.value,Object(u.jsx)(ze,{id:e.id,weight:e.value,datetime:g(e.row.datetime)})]})}}];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"My Weighings"}),Object(u.jsx)(Le.a,{autoHeight:!0,rows:t,rowHeight:35,columns:n,disableColumnMenu:!0,disableColumnSelector:!0,disableSelectionOnClick:!0,components:{NoRowsOverlay:Pe,Toolbar:function(){return Object(u.jsxs)(Le.d,{children:[Object(u.jsx)(Le.b,{}),Object(u.jsx)(Le.e,{})]})}},pagination:!0,pageSize:25,className:e.length?"":"zero-state-grid"})]})},qe=(n(333),n.p+"static/media/graph.3ad868e4.svg"),Ue=n(512),Ge=n(518),Ke=n(525),$e=n(515),Qe=n(509),Ve=n(516),Ye=n(527),Xe=n(523),Ze=function(){var e=Object(s.useContext)(ye).weighings,t=Object(s.useState)({}),n=Object(o.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)({}),i=Object(o.a)(c,2),l=i[0],d=i[1],j=Object(s.useState)(window.innerWidth),b=Object(o.a)(j,2),h=b[0],g=b[1],x=function(e){return g(e.target.innerWidth)};Object(s.useEffect)((function(){return window.addEventListener("resize",x),function(){return window.removeEventListener("resize",x)}}),[]);var O=e.map((function(e){return{x:new Date(e.datetime),y:e.weight}}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{style:{marginBottom:"1rem"},children:"Time Graph"}),e.length<2?Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(u.jsx)("img",{src:qe,alt:"graph",style:{margin:"30px",width:"180px"}}),Object(u.jsx)("i",{style:{lineHeight:"1.5rem"},children:"Add at least 2 Weighings to see the Chart"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(Ue.a,{width:h,theme:Ge.a.material,height:300,scale:{x:"time"},domainPadding:{y:20,x:20},containerComponent:Object(u.jsx)(Ke.a,{responsive:!0,zoomDimension:"x",zoomDomain:l,onZoomDomainChange:function(e){return r(e)},style:{width:"100%",height:"275px"}}),children:[Object(u.jsx)($e.a,{x:13,y:25,style:{fill:"rgb(69, 90, 100)",fontStyle:"italic"},text:"Weight (kg)"}),Object(u.jsx)(Qe.a,{data:O,animate:{onLoad:{duration:1200}},style:{data:{stroke:"tomato"}}}),Object(u.jsx)(Ve.a,{data:O,size:4,animate:{onLoad:{duration:1200}},style:{data:{fill:"tomato"}}})]}),Object(u.jsxs)(Ue.a,{width:h,height:90,scale:{x:"time"},domainPadding:{y:5,x:19},padding:{top:5,left:50,right:50,bottom:30},containerComponent:Object(u.jsx)(Ye.a,{responsive:!0,brushDimension:"x",brushDomain:a,onBrushDomainChange:function(e){return d(e)},style:{width:"100%",height:"90px"}}),children:[Object(u.jsx)(Xe.a,{}),Object(u.jsx)(Qe.a,{data:O,animate:{onLoad:{duration:1200}},style:{data:{stroke:"tomato"}}})]})]})]})},et=function(){var e=Object(s.useContext)(j).onErrorAlert,t=Object(s.useContext)(v),n=t.token,a=t.onLogout,r=Object(s.useContext)(ye).setWeighings;return Object(s.useEffect)((function(){Object(A.a)(W.a.mark((function t(){var c;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$(n);case 3:c=t.sent,r(c.data),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),r([]),a(),e("Could not get weighings data");case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[n,r,a,e]),Object(u.jsxs)(w.d,{children:[Object(u.jsx)(w.b,{path:"/",exact:!0,children:Object(u.jsx)(Ce,{})}),Object(u.jsx)(w.b,{path:"/grid",children:Object(u.jsx)(Je,{})}),Object(u.jsx)(w.b,{path:"/chart",children:Object(u.jsx)(Ze,{})}),Object(u.jsx)(w.a,{to:"/"})]})},tt=(n(253),n.p+"static/media/key.e5b44f96.svg"),nt=n(508),at=function(){var e=Object(s.useContext)(v).onLogin,t=Object(s.useContext)(j),n=t.onSuccessAlert,a=t.onErrorAlert,r=Object(s.useState)(""),c=Object(o.a)(r,2),i=c[0],l=c[1],d=Object(s.useState)(""),b=Object(o.a)(d,2),h=b[0],g=b[1],x=Object(s.useState)(!1),O=Object(o.a)(x,2),f=O[0],y=O[1],w={icon:{width:"1.5rem",margin:"0 0.5rem 0.5rem 0"}},C=function(){var t=Object(A.a)(W.a.mark((function t(r){var c,o;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),y(!0),t.prev=2,c={username:i,password:h},t.next=6,s=JSON.stringify(c),G(s,"/login");case 6:o=t.sent,e(o.data.access_token,i),n("Hi, ".concat(i,"!")),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a(t.t0);case 14:y(!1);case 15:case"end":return t.stop()}var s}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"auth-form-section",children:[Object(u.jsxs)("h2",{children:["Sign ",Object(u.jsx)("b",{children:"Me"})," in"]}),Object(u.jsxs)("form",{onSubmit:C,children:[Object(u.jsx)("div",{style:{marginBottom:"1rem"},children:Object(u.jsxs)(nt.a,{container:!0,alignItems:"flex-end",children:[Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)("img",{src:E,style:w.icon,alt:"user"})}),Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)(me.a,{label:"Username",autoComplete:"off",value:i,onChange:function(e){return m(e.target.value)&&l(e.target.value)}})})]})}),Object(u.jsx)("div",{style:{marginBottom:"2rem"},children:Object(u.jsxs)(nt.a,{container:!0,alignItems:"flex-end",children:[Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)("img",{src:tt,style:w.icon,alt:"password"})}),Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)(me.a,{type:"password",label:"Password",autoComplete:"off",value:h,onChange:function(e){return p(e.target.value)&&g(e.target.value)}})})]})}),Object(u.jsx)(F.a,{variant:"contained",color:"primary",type:"submit",disabled:!i||!h||f,children:f?Object(u.jsx)(fe.a,{style:{height:"25px",width:"25px"}}):"Sign In"})]})]})},rt=n.p+"static/media/double-key.c4a15f9f.svg",ct=function(){var e=Object(s.useContext)(v).onLogin,t=Object(s.useContext)(j),n=t.onSuccessAlert,a=t.onErrorAlert,r=Object(s.useState)(""),c=Object(o.a)(r,2),i=c[0],l=c[1],d=Object(s.useState)(""),b=Object(o.a)(d,2),h=b[0],g=b[1],x=Object(s.useState)(""),O=Object(o.a)(x,2),f=O[0],y=O[1],w=Object(s.useState)(!1),C=Object(o.a)(w,2),k=C[0],S=C[1],_={icon:{width:"1.5rem",margin:"0 0.5rem 1.85rem 0"}},N=function(){var t=Object(A.a)(W.a.mark((function t(r){var c,o;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),S(!0),t.prev=2,c={username:i,password:h,confirmation:f},t.next=6,s=JSON.stringify(c),G(s,"/register");case 6:o=t.sent,e(o.data.access_token,i),n("Wellcome, ".concat(i,"!")),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),a(t.t0);case 14:S(!1);case 15:case"end":return t.stop()}var s}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("section",{className:"auth-form-section",children:[Object(u.jsxs)("h2",{children:["Register ",Object(u.jsx)("b",{children:"Me"})]}),Object(u.jsxs)("form",{onSubmit:N,children:[Object(u.jsx)("div",{style:{marginBottom:"1rem"},children:Object(u.jsxs)(nt.a,{container:!0,alignItems:"flex-end",children:[Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)("img",{src:E,style:_.icon,alt:"user"})}),Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)(me.a,{label:"Username",helperText:"* Max 12 chars. No spaces.",autoComplete:"off",required:!0,value:i,onChange:function(e){return m(e.target.value)&&l(e.target.value)}})})]})}),Object(u.jsx)("div",{style:{marginBottom:"1rem"},children:Object(u.jsxs)(nt.a,{container:!0,alignItems:"flex-end",children:[Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)("img",{src:tt,style:_.icon,alt:"password"})}),Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)(me.a,{type:"password",label:"Password",helperText:"* Max 20 chars. No spaces.",autoComplete:"off",required:!0,value:h,onChange:function(e){return p(e.target.value)&&g(e.target.value)}})})]})}),Object(u.jsx)("div",{style:{marginBottom:"1.5rem"},children:Object(u.jsxs)(nt.a,{container:!0,alignItems:"flex-end",children:[Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)("img",{src:rt,style:_.icon,alt:"confirm"})}),Object(u.jsx)(nt.a,{item:!0,children:Object(u.jsx)(me.a,{type:"password",label:"Confirm Password",helperText:"* Max 20 chars. No spaces.",autoComplete:"off",required:!0,value:f,onChange:function(e){return p(e.target.value)&&y(e.target.value)}})})]})}),Object(u.jsx)(F.a,{variant:"contained",color:"primary",type:"submit",disabled:!i||!h||!f||k,children:k?Object(u.jsx)(fe.a,{style:{height:"25px",width:"25px"}}):"Sign Un"})]})]})},it=function(){return Object(u.jsxs)(w.d,{children:[Object(u.jsx)(w.b,{path:"/",exact:!0,children:Object(u.jsx)(at,{})}),Object(u.jsx)(w.b,{path:"/register",children:Object(u.jsx)(ct,{})}),Object(u.jsx)(w.a,{to:"/"})]})},ot=function(){var e=Object(s.useContext)(v).token;return Object(u.jsx)("main",{className:de.a.main,style:{paddingTop:function(){var e,t,n=document.querySelector("header"),a=document.querySelector("nav");return"".concat(Math.max(40+(null!==(e=null===n||void 0===n?void 0:n.clientHeight)&&void 0!==e?e:0)+(null!==(t=null===a||void 0===a?void 0:a.clientHeight)&&void 0!==t?t:0),104),"px")}()},children:e?Object(u.jsx)(we,{children:Object(u.jsx)(et,{token:e})}):Object(u.jsx)(it,{})})},st=n(273),lt=n.n(st),ut=function(){return Object(u.jsxs)("footer",{className:lt.a.footer,children:[Object(u.jsx)("p",{children:"Developed by Manuel Figueira - 2021"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Icons made by "}),Object(u.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"}),Object(u.jsx)("span",{children:" from "}),Object(u.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})},dt=n(274),jt=n.n(dt),bt=n(519),ht=n(513),gt=function(e){return Object(u.jsx)(ht.a,Object(i.a)({elevation:6,variant:"filled"},e))},xt=function(){var e=Object(s.useContext)(j),t=e.alert,n=e.onCloseAlert,a=function(e,t){"clickaway"!==t&&n()};return r.a.createPortal(Object(u.jsx)(bt.a,{className:jt.a.snackbar,open:t.open,autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:a,style:{bottom:function(){var e,t=document.querySelector("footer");return"".concat(12+(null!==(e=null===t||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0),"px")}(),position:"fixed"},children:Object(u.jsx)(gt,{onClose:a,severity:t.severity,style:{fontSize:"1rem"},children:t.message})}),document.getElementById("modals-root"))},Ot=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(le,{}),Object(u.jsx)(ot,{}),Object(u.jsx)(ut,{}),Object(u.jsx)(xt,{})]})},mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,528)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};r.a.render(Object(u.jsx)(c.a,{children:Object(u.jsx)(b,{children:Object(u.jsx)(y,{children:Object(u.jsx)(Ot,{})})})}),document.getElementById("root")),mt()}},[[438,1,2]]]);
//# sourceMappingURL=main.3310ab2f.chunk.js.map