(this["webpackJsonpweighme-frontend"]=this["webpackJsonpweighme-frontend"]||[]).push([[0],{212:function(e,t,n){},252:function(e,t,n){e.exports={toolbar:"Header_toolbar__3n3PK"}},253:function(e,t,n){e.exports={main:"Main_main__2lLek"}},269:function(e,t,n){e.exports={footer:"Footer_footer__miWNG"}},270:function(e,t,n){e.exports={snackbar:"AppSnackbar_snackbar__8U_ej"}},324:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},329:function(e,t,n){},434:function(e,t,n){"use strict";n.r(t);var i=n(23),a=n.n(i),r=n(72),c=n(25),o=n(22),s=n(177),l=n.n(s),d=n(249),u=n(9),j=n(0),b=n.n(j),h=n(27),g=[{path:"/",tab:0},{path:"/grid",tab:1},{path:"/chart",tab:2}],m=function(e){var t=e?new Date(e):new Date,n=t.getFullYear(),i="".concat(t.getMonth()+1).padStart(2,0),a="".concat(t.getDate()).padStart(2,0),r="".concat(t.getHours()).padStart(2,0),c="".concat(t.getMinutes()).padStart(2,0);return"".concat(n,"-").concat(i,"-").concat(a,"T").concat(r,":").concat(c)},O=function(e){return e.split(":").length>2?e.slice(0,e.lastIndexOf(":")):e},x=["January","February","March","April","May","June","July","August","September","October","November","December"],p=function(e){return/^[\S]{0,12}$/.test(e)},f=function(e){return/^[\S]{0,20}$/.test(e)},v=function(e){return/^[0-9]{0,3}([.]{1}[0-9]{0,2}){0,1}$/.test(e)},y=function(){return localStorage.removeItem("token")},w=n(155),S=n.n(w),C="https://weighme.herokuapp.com/api",k={headers:{"content-type":"application/json"}},A=function(e,t){return S.a.get(C+t,{headers:Object(o.a)(Object(o.a)({},k.headers),{},{Authorization:"Bearer ".concat(e)})})},W=function(e,t,n){return S.a.post(C+n,t,{headers:Object(o.a)(Object(o.a)({},k.headers),{},{Authorization:"Bearer ".concat(e)})})},D=function(e,t){return S.a.post(C+t,e,k)},F=function(e){return A(e,"/profile")},N=function(e){return A(e,"/weighings")},I=n(3),z=b.a.createContext({token:void 0,profile:void 0,weighings:[],tabValue:0,alert:{},onAddWeighing:function(){},onEditWeighing:function(){},onRemoveWeighing:function(){},onLogin:function(){},onLogout:function(){},onSuccessAlert:function(){},onErrorAlert:function(){},setTabValue:function(){},setAlert:function(){}}),B=function(e){var t=e.children,n=Object(h.g)(),i=Object(h.h)(),a=Object(j.useState)(localStorage.getItem("token")),r=Object(u.a)(a,2),s=r[0],b=r[1],m=Object(j.useState)(null),O=Object(u.a)(m,2),x=O[0],p=O[1],f=Object(j.useState)([]),v=Object(u.a)(f,2),w=v[0],S=v[1],C=Object(j.useState)((function(){return function(e){var t,n;return null!==(t=null===(n=g.find((function(t){return t.path===e})))||void 0===n?void 0:n.tab)&&void 0!==t?t:0}(i.pathname)})),k=Object(u.a)(C,2),A=k[0],W=k[1],D=Object(j.useState)({open:!1,message:"success",severity:"success"}),B=Object(u.a)(D,2),L=B[0],T=B[1];Object(j.useEffect)((function(){s&&Object(d.a)(l.a.mark((function e(){var t,n,i,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=F(s),n=N(s),e.next=5,Promise.all([t,n]);case 5:i=e.sent,a=Object(u.a)(i,2),r=a[0],c=a[1],p(r.data),S(c.data),e.next=22;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),y(),b(null),p(null),W(0),S([]),T({open:!0,message:"Could not fetch user data",severity:"error"});case 22:case"end":return e.stop()}}),e,null,[[0,13]])})))()}),[s]);var E=function(e,t){T((function(e){return Object(o.a)(Object(o.a)({},e),{},{open:!1})})),setTimeout((function(){T({open:!0,message:e,severity:t})}),150)},M=function(e){return E(e,"success")};return Object(I.jsx)(z.Provider,{value:{token:s,profile:x,weighings:w,tabValue:A,alert:L,onAddWeighing:function(e){return S((function(t){return[].concat(Object(c.a)(t),[e]).sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)}))}))},onEditWeighing:function(e){return S(w.map((function(t){return t.id===e.id?e:t})))},onRemoveWeighing:function(e){return S(w.filter((function(t){return t.id!==e})))},onLogin:function(e){!function(e){localStorage.setItem("token",e)}(e),b(e)},onLogout:function(){y(),b(void 0),p(void 0),n.push("/"),W(0),M("Until next time!")},onSuccessAlert:M,onErrorAlert:function(e){var t,n,i;console.error(e),E(null!==(t=null===(n=e.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.msg)&&void 0!==t?t:"An unexpected error ocurred.","error")},setTabValue:W,setAlert:T},children:t})},L=z,T=(n(324),n(252)),E=n.n(T),M=n.p+"static/media/scale.8fe8eb1f.svg",P=n.p+"static/media/user.c3f44b78.svg",_=n(510),R=n(491),H=function(){var e=Object(j.useContext)(L),t=Object(h.g)(),n=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}};return Object(I.jsx)("nav",{style:{backgroundColor:"#a8dac5"},children:Object(I.jsxs)(_.a,{value:e.tabValue,onChange:function(n,i){t.push(function(e){var t,n;return null!==(t=null===(n=g.find((function(t){return t.tab===e})))||void 0===n?void 0:n.path)&&void 0!==t?t:0}(i)),e.setTabValue(i)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(I.jsx)(R.a,Object(o.a)({label:"Scale"},n(0))),Object(I.jsx)(R.a,Object(o.a)({label:"Grid"},n(1))),Object(I.jsx)(R.a,Object(o.a)({label:"Chart"},n(2)))]})})},J=n(8),V=n(271),q=n(492),U=n(493),G=n(83),K=n(84),$=n(516),Y=n(495),Z=n(494),Q=Object(J.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(I.jsx)(V.a,Object(o.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),X=function(){var e=Object(j.useContext)(L),t=Object(j.useState)(null),n=Object(u.a)(t,2),i=n[0],a=n[1],c=function(){return a(null)},s={icon:{width:"1.75rem",marginRight:"0.5rem"},authButton:{color:"#fff",borderColor:"#fff",padding:"0"},buttonLink:{display:"inline-block",color:"inherit",lineHeight:"1rem",textDecoration:"none",padding:"0.4rem 0.8rem"}};return Object(I.jsxs)("div",{style:{position:"fixed",top:0,width:"100%",maxWidth:"900px",zIndex:999},children:[Object(I.jsx)(q.a,{position:"static",children:Object(I.jsxs)(U.a,{className:E.a.toolbar,children:[Object(I.jsx)("img",{src:M,style:s.icon,alt:"scale"}),Object(I.jsx)("h1",{children:"WeighMe"}),e.token?e.profile?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return a(e.currentTarget)},style:{color:"#fff",textTransform:"none",overflow:"hidden"},children:[Object(I.jsx)("img",{src:P,style:s.icon,alt:"user"}),e.profile.name]}),Object(I.jsx)(Q,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:c,children:Object(I.jsx)(K.a,{onClick:function(){c(),e.onLogout()},style:{padding:"0"},children:Object(I.jsx)("span",{style:Object(o.a)(Object(o.a)({},s.buttonLink),{},{padding:"0.6rem 1.1rem"}),children:"Sign Out"})})})]}):Object(I.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(I.jsx)(Z.a,{width:"26px",height:"26px",variant:"circle",style:{backgroundColor:"rgba(203, 213, 224, 0.7)",marginRight:"10px"},children:Object(I.jsx)($.a,{})}),Object(I.jsx)(Z.a,{width:"100px",height:"16px",variant:"rect",style:{backgroundColor:"rgba(203, 213, 224, 0.7)",borderRadius:"2px"}})]}):Object(I.jsxs)(Y.a,{variant:"text","aria-label":"authenticate user actions",children:[Object(I.jsx)(G.a,{style:s.authButton,children:Object(I.jsx)(r.b,{to:"/",style:s.buttonLink,children:"Sign In"})}),Object(I.jsx)(G.a,{style:s.authButton,children:Object(I.jsx)(r.b,{to:"/register",style:s.buttonLink,children:"New user"})})]})]})}),e.token&&Object(I.jsx)(H,{})]})},ee=n(253),te=n.n(ee),ne=(n(212),n.p+"static/media/key.e5b44f96.svg"),ie=n(496),ae=n(194),re=n(440),ce=function(){var e=Object(j.useContext)(L),t=Object(j.useState)(""),n=Object(u.a)(t,2),i=n[0],a=n[1],r=Object(j.useState)(""),c=Object(u.a)(r,2),o=c[0],s=c[1],l=Object(j.useState)(!1),d=Object(u.a)(l,2),b=d[0],h=d[1],g={icon:{width:"1.5rem",margin:"0 0.5rem 0.5rem 0"}};return Object(I.jsxs)("section",{className:"auth-form-section",children:[Object(I.jsxs)("h2",{children:["Sign ",Object(I.jsx)("b",{children:"Me"})," in"]}),Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault(),h(!0);var n={username:i,password:o};(function(e){return D(e,"/login")})(JSON.stringify(n)).then((function(t){e.onLogin(t.data.access_token,i),e.onSuccessAlert("Hi, ".concat(i,"!"))})).catch((function(t){return e.onErrorAlert(t)})).finally(h(!1))},children:[Object(I.jsx)("div",{style:{marginBottom:"1rem"},children:Object(I.jsxs)(ie.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)("img",{src:P,style:g.icon,alt:"user"})}),Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)(ae.a,{label:"Username",autoComplete:"off",value:i,onChange:function(e){return p(e.target.value)&&a(e.target.value)}})})]})}),Object(I.jsx)("div",{style:{marginBottom:"2rem"},children:Object(I.jsxs)(ie.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)("img",{src:ne,style:g.icon,alt:"password"})}),Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)(ae.a,{type:"password",label:"Password",autoComplete:"off",value:o,onChange:function(e){return f(e.target.value)&&s(e.target.value)}})})]})}),Object(I.jsx)(G.a,{variant:"contained",color:"primary",type:"submit",disabled:!i||!o||b,children:b?Object(I.jsx)(re.a,{style:{height:"25px",width:"25px"}}):"Sign In"})]})]})},oe=n.p+"static/media/double-key.c4a15f9f.svg",se=function(){var e=Object(j.useContext)(L),t=Object(j.useState)(""),n=Object(u.a)(t,2),i=n[0],a=n[1],r=Object(j.useState)(""),c=Object(u.a)(r,2),o=c[0],s=c[1],l=Object(j.useState)(""),d=Object(u.a)(l,2),b=d[0],h=d[1],g=Object(j.useState)(!1),m=Object(u.a)(g,2),O=m[0],x=m[1],v={icon:{width:"1.5rem",margin:"0 0.5rem 1.85rem 0"}};return Object(I.jsxs)("section",{className:"auth-form-section",children:[Object(I.jsxs)("h2",{children:["Register ",Object(I.jsx)("b",{children:"Me"})]}),Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x(!0);var n={username:i,password:o,confirmation:b};(function(e){return D(e,"/register")})(JSON.stringify(n)).then((function(t){e.onLogin(t.data.access_token,i),e.onSuccessAlert("Wellcome, ".concat(i,"!"))})).catch((function(t){return e.onErrorAlert(t)})).finally(x(!1))},children:[Object(I.jsx)("div",{style:{marginBottom:"1rem"},children:Object(I.jsxs)(ie.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)("img",{src:P,style:v.icon,alt:"user"})}),Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)(ae.a,{label:"Username",helperText:"* Max 12 chars. No spaces.",autoComplete:"off",required:!0,value:i,onChange:function(e){return p(e.target.value)&&a(e.target.value)}})})]})}),Object(I.jsx)("div",{style:{marginBottom:"1rem"},children:Object(I.jsxs)(ie.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)("img",{src:ne,style:v.icon,alt:"password"})}),Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)(ae.a,{type:"password",label:"Password",helperText:"* Max 20 chars. No spaces.",autoComplete:"off",required:!0,value:o,onChange:function(e){return f(e.target.value)&&s(e.target.value)}})})]})}),Object(I.jsx)("div",{style:{marginBottom:"1.5rem"},children:Object(I.jsxs)(ie.a,{container:!0,alignItems:"flex-end",children:[Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)("img",{src:oe,style:v.icon,alt:"confirm"})}),Object(I.jsx)(ie.a,{item:!0,children:Object(I.jsx)(ae.a,{type:"password",label:"Confirm Password",helperText:"* Max 20 chars. No spaces.",autoComplete:"off",required:!0,value:b,onChange:function(e){return f(e.target.value)&&h(e.target.value)}})})]})}),Object(I.jsx)(G.a,{variant:"contained",color:"primary",type:"submit",disabled:!i||!o||!b||O,children:O?Object(I.jsx)(re.a,{style:{height:"25px",width:"25px"}}):"Sign Un"})]})]})},le=(n(326),n.p+"static/media/bg-scale.50ec51df.svg"),de=n.p+"static/media/add.d3ae5c1f.svg",ue=n.p+"static/media/add-disabled.57abca65.svg",je=n(125),be=n(497),he=n(499),ge=n(500),me=function(){var e=Object(j.useContext)(L),t=Object(j.useState)(""),n=Object(u.a)(t,2),i=n[0],a=n[1],r=Object(j.useState)(m),c=Object(u.a)(r,2),s=c[0],l=c[1],d=Object(j.useState)(!1),b=Object(u.a)(d,2),h=b[0],g=b[1],x={container:{boxShadow:"0px 7px 8px #888888",borderRadius:"60px",backgroundImage:"url(".concat(le,")"),backgroundRepeat:"no-repeat",backgroundSize:"100%",padding:"2rem",width:"300px",height:"300px",boxSizing:"border-box"},form:{paddingTop:"7rem",position:"relative"}};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("h2",{children:["Let's"," ",Object(I.jsx)("p",{children:Object(I.jsx)("b",{children:"Weigh Me!"})})]}),Object(I.jsx)("div",{id:"addWeighingForm",style:x.container,children:Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault(),g(!0);var n={weight:i,datetime:s};(function(e,t){return W(e,t,"/add_weighing")})(e.token,JSON.stringify(n)).then((function(t){n.id=t.data.id,e.onAddWeighing(Object(o.a)(Object(o.a)({},n),{},{weight:+n.weight})),a(""),l(m),e.onSuccessAlert("Weighing added!")})).catch((function(t){return e.onErrorAlert(t)})).finally(g(!1))},style:x.form,children:[Object(I.jsx)("div",{style:{marginBottom:"1.2rem"},children:Object(I.jsx)(je.a,{children:Object(I.jsx)(be.a,{id:"addWeighingFormWeight",value:i,type:"number",inputProps:{step:.01,min:0,max:999.99},autoComplete:"off",placeholder:"0.00",onChange:function(e){return v("".concat(e.target.value))&&a(e.target.value)},onKeyDown:function(e){return"e"===e.key&&e.preventDefault()},endAdornment:Object(I.jsx)(he.a,{position:"end",children:Object(I.jsx)("span",{style:{color:"#fff",fontSize:"1rem",marginTop:"2rem"},children:"Kg"})}),style:{fontSize:"3rem"}})})}),Object(I.jsx)("div",{children:Object(I.jsx)(ae.a,{id:"addWeighingFormDatepicker",label:"When?",type:"datetime-local",autoComplete:"off",value:s,InputLabelProps:{shrink:!0},onChange:function(e){return l(O(e.target.value))}})}),Object(I.jsx)(ge.a,{id:"addWeighingFormAddButton","aria-label":"Add",type:"submit",disabled:!i||!s||h,children:h?Object(I.jsx)(re.a,{style:{height:"25px",width:"25px"}}):Object(I.jsx)("img",{src:i&&s?de:ue,alt:"Add",style:i&&s&&!h?{width:"100%"}:{width:"100%",opacity:"0.5"}})})]})})]})},Oe=(n(327),n.p+"static/media/edit.314ec8e2.svg"),xe=n(45),pe=n(513),fe=n(501),ve=n(441),ye=Object(xe.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #444",borderRadius:"6px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),backgroundImage:"linear-gradient(#a4dad2, #bce08a)",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})),we=function(e){var t=e.id,n=e.weight,i=e.datetime,a=Object(j.useContext)(L),r=ye(),c=Object(j.useState)(!1),s=Object(u.a)(c,2),l=s[0],d=s[1],b=Object(j.useState)(""),h=Object(u.a)(b,2),g=h[0],m=h[1],x=Object(j.useState)(!1),p=Object(u.a)(x,2),f=p[0],y=p[1],w=Object(j.useState)(""),S=Object(u.a)(w,2),C=S[0],k=S[1],A=Object(j.useState)(!1),D=Object(u.a)(A,2),F=D[0],N=D[1],z=Object(j.useState)(!1),B=Object(u.a)(z,2),T=B[0],E=B[1],M=Object(j.useState)(!1),P=Object(u.a)(M,2),_=P[0],R=P[1],H=function(){return d(!1)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(G.a,{variant:"contained",color:"primary",size:"small",style:{position:"absolute",right:"1px",top:"3px",minWidth:"0px",padding:"0",borderRadius:"50%"},onClick:function(){return d(!0)},children:Object(I.jsx)("img",{src:Oe,style:{width:"25px"},alt:"edit"})}),Object(I.jsx)(pe.a,{className:r.modal,open:l,onClose:H,closeAfterTransition:!0,BackdropComponent:fe.a,BackdropProps:{timeout:500},children:Object(I.jsx)(ve.a,{in:l,children:Object(I.jsxs)("div",{className:r.paper,children:[Object(I.jsx)("h2",{children:"Edit Weighing"}),Object(I.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(I.jsx)("div",{style:{marginBottom:"1.2rem",textAlign:"center"},children:Object(I.jsx)(je.a,{children:Object(I.jsx)(be.a,{id:"addWeighingFormWeight",value:f?g:n,type:"number",inputProps:{step:.01,min:0,max:999.99},autoComplete:"off",placeholder:"0.00",onChange:function(e){v("".concat(e.target.value))&&(m(e.target.value),!f&&y(!0))},onKeyDown:function(e){return"e"===e.key&&e.preventDefault()},endAdornment:Object(I.jsx)(he.a,{position:"end",children:Object(I.jsx)("span",{style:{fontSize:"1rem",marginTop:"2rem"},children:"Kg"})}),style:{fontSize:"3rem"}})})}),Object(I.jsx)("div",{style:{marginBottom:"3rem",textAlign:"center"},children:Object(I.jsx)(ae.a,{id:"addWeighingFormDatepicker",label:"When?",type:"datetime-local",autoComplete:"off",value:F?C:i,InputLabelProps:{shrink:!0},onChange:function(e){k(O(e.target.value)),!F&&N(!0)}})}),Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(I.jsx)(G.a,{variant:"contained",color:"secondary",onClick:function(){R(!0);var e={id:t};(function(e,t){return W(e,t,"/delete_weighing")})(a.token,JSON.stringify(e)).then((function(t){H(),a.onRemoveWeighing(e.id),a.onSuccessAlert("Weighing deleted.")})).catch((function(e){return a.onErrorAlert(e)})).finally(R(!1))},disable:_,children:_?Object(I.jsx)(re.a,{style:{height:"25px",width:"25px"}}):"Delete"}),Object(I.jsx)(G.a,{variant:"contained",color:"primary",onClick:function(){E(!0);var e={id:t,weight:"".concat(f?g:n),datetime:F?C:i};(function(e,t){return W(e,t,"/update_weighing")})(a.token,JSON.stringify(e)).then((function(t){H(),a.onEditWeighing(Object(o.a)(Object(o.a)({},e),{},{weight:+e.weight})),a.onSuccessAlert("Weighing updated.")})).catch((function(e){return a.onErrorAlert(e)})).finally(E(!1))},disabled:!t||!g&&!C||T,children:T?Object(I.jsx)(re.a,{style:{height:"25px",width:"25px"}}):"Update"}),Object(I.jsx)(G.a,{variant:"contained",onClick:H,children:"Cancel"})]})]})]})})})]})},Se=n.p+"static/media/alert.df96154c.svg",Ce=n(92),ke=function(){return Object(I.jsxs)(Ce.c,{style:{display:"flex",justifyContent:"center"},children:[Object(I.jsx)("img",{src:Se,alt:"alert",style:{marginRight:"10px",width:"50px"}}),Object(I.jsx)("i",{children:"No Weighings to show"})]})},Ae=n(196),We=n(191),De=[{label:"is",value:"is",getApplyFilterFn:function(e,t){return e.columnField&&e.value&&e.operatorValue?function(n){var i=t.valueGetter?t.valueGetter(n):n.value;return e.value.indexOf(i)>=0}:null},InputComponent:function(e){var t=e.item,n=e.applyValue;return Object(I.jsxs)(je.a,{children:[Object(I.jsx)(Ae.a,{shrink:!0,htmlFor:"custom-months-filter",children:"Select month/s"}),Object(I.jsx)(We.a,{multiple:!0,native:!0,value:t.value,onChange:function(e){for(var i=e.target.options,a=[],r=0,c=i.length;r<c;r+=1)i[r].selected&&a.push(i[r].value);n(Object(o.a)(Object(o.a)({},t),{},{value:a}))},inputProps:{id:"custom-months-filter"},children:x.map((function(e){return Object(I.jsx)("option",{value:e,children:e},e)}))})]})},InputComponentProps:{type:"array"}}],Fe=function(){var e=Object(j.useContext)(L),t=e.weighings.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{datetime:new Date(e.datetime),month:(t=e.datetime,x[new Date(t).getMonth()])});var t})),n=[{field:"datetime",type:"dateTime",headerName:"Date & Time",flex:1.5,headerClassName:"weighing-grid-th"},{field:"month",type:"string",headerName:"Month",hide:!0,headerClassName:"weighing-grid-th",filterOperators:De},{field:"weight",type:"string",headerName:"Weight (kg)",flex:1,headerClassName:"weighing-grid-th",renderCell:function(e){return Object(I.jsxs)("div",{style:{textAlign:"center",width:"100%",position:"relative"},children:[e.value,Object(I.jsx)(we,{id:e.id,weight:e.value,datetime:m(e.row.datetime)})]})}}];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h2",{children:"My Weighings"}),Object(I.jsx)(Ce.a,{autoHeight:!0,rows:t,rowHeight:35,columns:n,disableColumnMenu:!0,disableColumnSelector:!0,disableSelectionOnClick:!0,components:{NoRowsOverlay:ke,Toolbar:function(){return Object(I.jsxs)(Ce.d,{children:[Object(I.jsx)(Ce.b,{}),Object(I.jsx)(Ce.e,{})]})}},pagination:!0,pageSize:25,className:e.weighings.length?"":"zero-state-grid"})]})},Ne=(n(329),n.p+"static/media/graph.3ad868e4.svg"),Ie=n(508),ze=n(514),Be=n(521),Le=n(511),Te=n(505),Ee=n(512),Me=n(523),Pe=n(519),_e=function(){var e=Object(j.useContext)(L),t=Object(j.useState)({}),n=Object(u.a)(t,2),i=n[0],a=n[1],r=Object(j.useState)({}),c=Object(u.a)(r,2),o=c[0],s=c[1],l=Object(j.useState)(window.innerWidth),d=Object(u.a)(l,2),b=d[0],h=d[1],g=function(e){return h(e.target.innerWidth)};Object(j.useEffect)((function(){return window.addEventListener("resize",g),function(){return window.removeEventListener("resize",g)}}),[]);var m=e.weighings.map((function(e){return{x:new Date(e.datetime),y:e.weight}}));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h2",{style:{marginBottom:"1rem"},children:"Time Graph"}),e.weighings.length<2?Object(I.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(I.jsx)("img",{src:Ne,alt:"graph",style:{margin:"30px",width:"180px"}}),Object(I.jsx)("i",{style:{lineHeight:"1.5rem"},children:"Add at least 2 Weighings to see the Chart"})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(Ie.a,{width:b,theme:ze.a.material,height:300,scale:{x:"time"},domainPadding:{y:20,x:20},containerComponent:Object(I.jsx)(Be.a,{responsive:!0,zoomDimension:"x",zoomDomain:o,onZoomDomainChange:function(e){return a(e)},style:{width:"100%",height:"275px"}}),children:[Object(I.jsx)(Le.a,{x:13,y:25,style:{fill:"rgb(69, 90, 100)",fontStyle:"italic"},text:"Weight (kg)"}),Object(I.jsx)(Te.a,{data:m,animate:{onLoad:{duration:1200}},style:{data:{stroke:"tomato"}}}),Object(I.jsx)(Ee.a,{data:m,size:4,animate:{onLoad:{duration:1200}},style:{data:{fill:"tomato"}}})]}),Object(I.jsxs)(Ie.a,{width:b,height:90,scale:{x:"time"},domainPadding:{y:5,x:19},padding:{top:5,left:50,right:50,bottom:30},containerComponent:Object(I.jsx)(Me.a,{responsive:!0,brushDimension:"x",brushDomain:i,onBrushDomainChange:function(e){return s(e)},style:{width:"100%",height:"90px"}}),children:[Object(I.jsx)(Pe.a,{}),Object(I.jsx)(Te.a,{data:m,animate:{onLoad:{duration:1200}},style:{data:{stroke:"tomato"}}})]})]})]})},Re=function(){var e=Object(j.useContext)(L);return Object(I.jsx)("main",{className:te.a.main,style:{paddingTop:function(){var e,t,n=document.querySelector("header"),i=document.querySelector("nav");return"".concat(Math.max(40+(null!==(e=null===n||void 0===n?void 0:n.clientHeight)&&void 0!==e?e:0)+(null!==(t=null===i||void 0===i?void 0:i.clientHeight)&&void 0!==t?t:0),104),"px")}()},children:e.token?Object(I.jsxs)(h.d,{children:[Object(I.jsx)(h.b,{path:"/",exact:!0,children:Object(I.jsx)(me,{})}),Object(I.jsx)(h.b,{path:"/grid",children:Object(I.jsx)(Fe,{})}),Object(I.jsx)(h.b,{path:"/chart",children:Object(I.jsx)(_e,{})}),Object(I.jsx)(h.a,{to:"/"})]}):Object(I.jsxs)(h.d,{children:[Object(I.jsx)(h.b,{path:"/",exact:!0,children:Object(I.jsx)(ce,{})}),Object(I.jsx)(h.b,{path:"/register",children:Object(I.jsx)(se,{})}),Object(I.jsx)(h.a,{to:"/"})]})})},He=n(269),Je=n.n(He),Ve=function(){return Object(I.jsxs)("footer",{className:Je.a.footer,children:[Object(I.jsx)("p",{children:"Developed by Manuel Figueira - 2021"}),Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{children:"Icons made by "}),Object(I.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"}),Object(I.jsx)("span",{children:" from "}),Object(I.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})},qe=n(270),Ue=n.n(qe),Ge=n(515),Ke=n(509),$e=function(e){return Object(I.jsx)(Ke.a,Object(o.a)({elevation:6,variant:"filled"},e))},Ye=function(){var e=Object(j.useContext)(L),t=function(t,n){"clickaway"!==n&&e.setAlert((function(e){return Object(o.a)(Object(o.a)({},e),{},{open:!1})}))};return a.a.createPortal(Object(I.jsx)(Ge.a,{className:Ue.a.snackbar,open:e.alert.open,autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:t,style:{bottom:function(){var e,t=document.querySelector("footer");return"".concat(12+(null!==(e=null===t||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0),"px")}(),position:"fixed"},children:Object(I.jsx)($e,{onClose:t,severity:e.alert.severity,style:{fontSize:"1rem"},children:e.alert.message})}),document.getElementById("modals-root"))},Ze=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(X,{}),Object(I.jsx)(Re,{}),Object(I.jsx)(Ve,{}),Object(I.jsx)(Ye,{})]})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,524)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))};a.a.render(Object(I.jsx)(r.a,{children:Object(I.jsx)(B,{children:Object(I.jsx)(Ze,{})})}),document.getElementById("root")),Qe()}},[[434,1,2]]]);
//# sourceMappingURL=main.70a6532a.chunk.js.map