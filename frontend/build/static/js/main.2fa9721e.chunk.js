(this["webpackJsonpweighme-frontend"]=this["webpackJsonpweighme-frontend"]||[]).push([[0],{124:function(e,t,n){e.exports={link:"AuthenticationMenu_link__1wFsl",btn:"AuthenticationMenu_btn__rhQ54"}},157:function(e,t,n){e.exports={container:"Header_container__21wXn",icon:"Header_icon__1sL6t",toolbar:"Header_toolbar__Mg8I5"}},182:function(e,t,n){e.exports={icon:"ProfileMenu_icon__1Yxs4",link:"ProfileMenu_link__M4jIE"}},215:function(e,t,n){},255:function(e,t,n){e.exports={main:"Main_main__3JhNz"}},271:function(e,t,n){e.exports={footer:"Footer_footer__7dIj9"}},272:function(e,t,n){e.exports={snackbar:"AppSnackbar_snackbar__Smuuo"}},319:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},331:function(e,t,n){},436:function(e,t,n){"use strict";n.r(t);var a=n(22),i=n.n(a),r=n(86),c=n(25),o=n(24),s=n(179),l=n.n(s),d=n(252),u=n(8),j=n(0),b=n.n(j),h=n(156),g=n.n(h),m="https://weighme.herokuapp.com/api",x={headers:{"content-type":"application/json"}},O=function(e,t){return g.a.get(m+t,{headers:Object(o.a)(Object(o.a)({},x.headers),{},{Authorization:"Bearer ".concat(e)})})},f=function(e,t,n){return g.a.post(m+n,t,{headers:Object(o.a)(Object(o.a)({},x.headers),{},{Authorization:"Bearer ".concat(e)})})},p=function(e,t){return g.a.post(m+t,e,x)},v=function(e){return O(e,"/weighings")},y=b.a.createContext({profile:void 0,weighings:[],alert:{},onAddWeighing:function(){},onEditWeighing:function(){},onRemoveWeighing:function(){},onSuccessAlert:function(){},onErrorAlert:function(){},onCloseAlert:function(){}}),w=b.a.createContext({token:null,onLogin:function(){},onLogout:function(){}}),C=n(3),S=function(e){var t=e.children,n=Object(j.useContext)(w),a=Object(j.useState)(void 0),i=Object(u.a)(a,2),r=i[0],s=i[1],b=Object(j.useState)([]),h=Object(u.a)(b,2),g=h[0],m=h[1],x=Object(j.useState)({open:!1,message:"",severity:"success"}),f=Object(u.a)(x,2),p=f[0],S=f[1];Object(j.useEffect)((function(){n.token&&Object(d.a)(l.a.mark((function e(){var t,a,i,r,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n.token,t=O(l,"/profile"),a=v(n.token),e.next=5,Promise.all([t,a]);case 5:i=e.sent,r=Object(u.a)(i,2),c=r[0],o=r[1],s(c.data),m(o.data),e.next=20;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),s(void 0),m([]),n.onLogout(),S({open:!0,message:"Could not fetch user data",severity:"error"});case 20:case"end":return e.stop()}var l}),e,null,[[0,13]])})))()}),[n]);var k=function(){return S((function(e){return Object(o.a)(Object(o.a)({},e),{},{open:!1})}))},A=function(e,t){k(),setTimeout((function(){S({open:!0,message:e,severity:t})}),150)},N={profile:r,weighings:g,alert:p,onAddWeighing:function(e){return m((function(t){return[].concat(Object(c.a)(t),[e]).sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)}))}))},onEditWeighing:function(e){return m((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))},onRemoveWeighing:function(e){return m((function(t){return t.filter((function(t){return t.id!==e}))}))},onSuccessAlert:function(e){return A(e,"success")},onErrorAlert:function(e){var t,n,a;console.error(e),A(null!==(t=null===(n=e.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.msg)&&void 0!==t?t:"An unexpected error ocurred.","error")},onCloseAlert:k};return Object(C.jsx)(y.Provider,{value:N,children:t})},k=[{path:"/",tab:0},{path:"/grid",tab:1},{path:"/chart",tab:2}],A=function(e){var t=e?new Date(e):new Date,n=t.getFullYear(),a="".concat(t.getMonth()+1).padStart(2,0),i="".concat(t.getDate()).padStart(2,0),r="".concat(t.getHours()).padStart(2,0),c="".concat(t.getMinutes()).padStart(2,0);return"".concat(n,"-").concat(a,"-").concat(i,"T").concat(r,":").concat(c)},N=function(e){return e.split(":").length>2?e.slice(0,e.lastIndexOf(":")):e},W=Array.from({length:12},(function(e,t){return new Date(0,t).toLocaleString("en-US",{month:"long"})})),_=function(e){return/^[\S]{0,12}$/.test(e)},D=function(e){return/^[\S]{0,20}$/.test(e)},F=function(e){return/^[0-9]{0,3}([.]{1}[0-9]{0,2}){0,1}$/.test(e)},I=function(e){var t=e.children,n=Object(j.useState)(localStorage.getItem("token")),a=Object(u.a)(n,2),i=a[0],r=a[1],c={token:i,onLogin:function(e){!function(e){localStorage.setItem("token",e)}(e),r(e)},onLogout:function(){localStorage.removeItem("token"),r(void 0)}};return Object(C.jsx)(w.Provider,{value:c,children:t})},L=(n(319),n(27)),M=n(512),z=n(493),E=function(){var e=Object(j.useContext)(w),t=Object(L.g)(),n=Object(L.h)(),a=Object(j.useState)((function(){return function(e){var t,n;return null!==(t=null===(n=k.find((function(t){return t.path===e})))||void 0===n?void 0:n.tab)&&void 0!==t?t:0}(n.pathname)})),i=Object(u.a)(a,2),r=i[0],c=i[1],s=function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}};return Object(C.jsx)("nav",{style:{backgroundColor:"#a8dac5"},children:Object(C.jsxs)(M.a,{value:e.token?r:0,onChange:function(e,n){t.push(function(e){var t,n;return null!==(t=null===(n=k.find((function(t){return t.tab===e})))||void 0===n?void 0:n.path)&&void 0!==t?t:0}(n)),c(n)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(C.jsx)(z.a,Object(o.a)({label:"Scale"},s(0))),Object(C.jsx)(z.a,Object(o.a)({label:"Grid"},s(1))),Object(C.jsx)(z.a,Object(o.a)({label:"Chart"},s(2)))]})})},P=n(9),B=n(273),T=n(83),R=n(84),H=n.p+"static/media/user.c3f44b78.svg",J=n(182),q=n.n(J),U=n(518),G=n(494),K=function(){return Object(C.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(C.jsx)(G.a,{width:"26px",height:"26px",variant:"circle",style:{backgroundColor:"rgba(203, 213, 224, 0.7)",marginRight:"10px"},children:Object(C.jsx)(U.a,{})}),Object(C.jsx)(G.a,{width:"100px",height:"16px",variant:"rect",style:{backgroundColor:"rgba(203, 213, 224, 0.7)",borderRadius:"2px"}})]})},$=Object(P.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(C.jsx)(B.a,Object(o.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),V=function(e){var t=e.onLogout,n=Object(j.useContext)(y),a=Object(j.useState)(null),i=Object(u.a)(a,2),r=i[0],c=i[1],o=function(){return c(null)};return n.profile?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(T.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return c(e.currentTarget)},style:{color:"#fff",textTransform:"none",overflow:"hidden"},children:[Object(C.jsx)("img",{src:H,className:q.a.icon,alt:"user"}),n.profile.name]}),Object(C.jsx)($,{anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:o,children:Object(C.jsx)(R.a,{onClick:function(){o(),t(),n.onSuccessAlert("Logged out, bye!")},style:{padding:"0"},children:Object(C.jsx)("span",{className:q.a.link,children:"Sign Out"})})})]}):Object(C.jsx)(K,{})},Y=n(495),Q=n(124),X=n.n(Q),Z=function(){return Object(C.jsxs)(Y.a,{variant:"text","aria-label":"authentication",children:[Object(C.jsx)(T.a,{className:X.a.btn,children:Object(C.jsx)(r.b,{to:"/",className:X.a.link,children:"Sign In"})}),Object(C.jsx)(T.a,{className:X.a.btn,children:Object(C.jsx)(r.b,{to:"/register",className:X.a.link,children:"New user"})})]})},ee=n(496),te=n(497),ne=n(157),ae=n.n(ne),ie=n.p+"static/media/scale.8fe8eb1f.svg",re=function(){var e=Object(j.useContext)(w);return Object(C.jsxs)("div",{className:ae.a.container,children:[Object(C.jsx)(ee.a,{position:"static",children:Object(C.jsxs)(te.a,{className:ae.a.toolbar,children:[Object(C.jsx)("img",{src:ie,className:ae.a.icon,alt:"scale"}),Object(C.jsx)("h1",{children:"WeighMe"}),e.token&&Object(C.jsx)(V,{onLogout:e.onLogout}),!e.token&&Object(C.jsx)(Z,{})]})}),e.token&&Object(C.jsx)(E,{})]})},ce=n(255),oe=n.n(ce),se=(n(215),n.p+"static/media/key.e5b44f96.svg"),le=n(498),de=n(197),ue=n(442),je=function(){var e=Object(j.useContext)(w),t=Object(j.useContext)(y),n=Object(j.useState)(""),a=Object(u.a)(n,2),i=a[0],r=a[1],c=Object(j.useState)(""),o=Object(u.a)(c,2),s=o[0],l=o[1],d=Object(j.useState)(!1),b=Object(u.a)(d,2),h=b[0],g=b[1],m={icon:{width:"1.5rem",margin:"0 0.5rem 0.5rem 0"}};return Object(C.jsxs)("section",{className:"auth-form-section",children:[Object(C.jsxs)("h2",{children:["Sign ",Object(C.jsx)("b",{children:"Me"})," in"]}),Object(C.jsxs)("form",{onSubmit:function(n){n.preventDefault(),g(!0);var a={username:i,password:s};(function(e){return p(e,"/login")})(JSON.stringify(a)).then((function(n){e.onLogin(n.data.access_token,i),t.onSuccessAlert("Hi, ".concat(i,"!"))})).catch((function(e){return t.onErrorAlert(e)})).finally(g(!1))},children:[Object(C.jsx)("div",{style:{marginBottom:"1rem"},children:Object(C.jsxs)(le.a,{container:!0,alignItems:"flex-end",children:[Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)("img",{src:H,style:m.icon,alt:"user"})}),Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)(de.a,{label:"Username",autoComplete:"off",value:i,onChange:function(e){return _(e.target.value)&&r(e.target.value)}})})]})}),Object(C.jsx)("div",{style:{marginBottom:"2rem"},children:Object(C.jsxs)(le.a,{container:!0,alignItems:"flex-end",children:[Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)("img",{src:se,style:m.icon,alt:"password"})}),Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)(de.a,{type:"password",label:"Password",autoComplete:"off",value:s,onChange:function(e){return D(e.target.value)&&l(e.target.value)}})})]})}),Object(C.jsx)(T.a,{variant:"contained",color:"primary",type:"submit",disabled:!i||!s||h,children:h?Object(C.jsx)(ue.a,{style:{height:"25px",width:"25px"}}):"Sign In"})]})]})},be=n.p+"static/media/double-key.c4a15f9f.svg",he=function(){var e=Object(j.useContext)(w),t=Object(j.useContext)(y),n=Object(j.useState)(""),a=Object(u.a)(n,2),i=a[0],r=a[1],c=Object(j.useState)(""),o=Object(u.a)(c,2),s=o[0],l=o[1],d=Object(j.useState)(""),b=Object(u.a)(d,2),h=b[0],g=b[1],m=Object(j.useState)(!1),x=Object(u.a)(m,2),O=x[0],f=x[1],v={icon:{width:"1.5rem",margin:"0 0.5rem 1.85rem 0"}};return Object(C.jsxs)("section",{className:"auth-form-section",children:[Object(C.jsxs)("h2",{children:["Register ",Object(C.jsx)("b",{children:"Me"})]}),Object(C.jsxs)("form",{onSubmit:function(n){n.preventDefault(),f(!0);var a={username:i,password:s,confirmation:h};(function(e){return p(e,"/register")})(JSON.stringify(a)).then((function(n){e.onLogin(n.data.access_token,i),t.onSuccessAlert("Wellcome, ".concat(i,"!"))})).catch((function(e){return t.onErrorAlert(e)})).finally(f(!1))},children:[Object(C.jsx)("div",{style:{marginBottom:"1rem"},children:Object(C.jsxs)(le.a,{container:!0,alignItems:"flex-end",children:[Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)("img",{src:H,style:v.icon,alt:"user"})}),Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)(de.a,{label:"Username",helperText:"* Max 12 chars. No spaces.",autoComplete:"off",required:!0,value:i,onChange:function(e){return _(e.target.value)&&r(e.target.value)}})})]})}),Object(C.jsx)("div",{style:{marginBottom:"1rem"},children:Object(C.jsxs)(le.a,{container:!0,alignItems:"flex-end",children:[Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)("img",{src:se,style:v.icon,alt:"password"})}),Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)(de.a,{type:"password",label:"Password",helperText:"* Max 20 chars. No spaces.",autoComplete:"off",required:!0,value:s,onChange:function(e){return D(e.target.value)&&l(e.target.value)}})})]})}),Object(C.jsx)("div",{style:{marginBottom:"1.5rem"},children:Object(C.jsxs)(le.a,{container:!0,alignItems:"flex-end",children:[Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)("img",{src:be,style:v.icon,alt:"confirm"})}),Object(C.jsx)(le.a,{item:!0,children:Object(C.jsx)(de.a,{type:"password",label:"Confirm Password",helperText:"* Max 20 chars. No spaces.",autoComplete:"off",required:!0,value:h,onChange:function(e){return D(e.target.value)&&g(e.target.value)}})})]})}),Object(C.jsx)(T.a,{variant:"contained",color:"primary",type:"submit",disabled:!i||!s||!h||O,children:O?Object(C.jsx)(ue.a,{style:{height:"25px",width:"25px"}}):"Sign Un"})]})]})},ge=(n(328),n.p+"static/media/bg-scale.50ec51df.svg"),me=n.p+"static/media/add.d3ae5c1f.svg",xe=n.p+"static/media/add-disabled.57abca65.svg",Oe=n(126),fe=n(499),pe=n(501),ve=n(502),ye=function(){var e=Object(j.useContext)(w),t=Object(j.useContext)(y),n=Object(j.useState)(""),a=Object(u.a)(n,2),i=a[0],r=a[1],c=Object(j.useState)(A),s=Object(u.a)(c,2),l=s[0],d=s[1],b=Object(j.useState)(!1),h=Object(u.a)(b,2),g=h[0],m=h[1],x={container:{boxShadow:"0px 7px 8px #888888",borderRadius:"60px",backgroundImage:"url(".concat(ge,")"),backgroundRepeat:"no-repeat",backgroundSize:"100%",padding:"2rem",width:"300px",height:"300px",boxSizing:"border-box"},form:{paddingTop:"7rem",position:"relative"}};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h2",{children:["Let's"," ",Object(C.jsx)("p",{children:Object(C.jsx)("b",{children:"Weigh Me!"})})]}),Object(C.jsx)("div",{id:"addWeighingForm",style:x.container,children:Object(C.jsxs)("form",{onSubmit:function(n){n.preventDefault(),m(!0);var a={weight:i,datetime:l};(function(e,t){return f(e,t,"/add_weighing")})(e.token,JSON.stringify(a)).then((function(e){a.id=e.data.id,t.onAddWeighing(Object(o.a)(Object(o.a)({},a),{},{weight:+a.weight})),r(""),d(A),t.onSuccessAlert("Weighing added!")})).catch((function(e){return t.onErrorAlert(e)})).finally(m(!1))},style:x.form,children:[Object(C.jsx)("div",{style:{marginBottom:"1.2rem"},children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(fe.a,{id:"addWeighingFormWeight",value:i,type:"number",inputProps:{step:.01,min:0,max:999.99},autoComplete:"off",placeholder:"0.00",onChange:function(e){return F("".concat(e.target.value))&&r(e.target.value)},onKeyDown:function(e){return"e"===e.key&&e.preventDefault()},endAdornment:Object(C.jsx)(pe.a,{position:"end",children:Object(C.jsx)("span",{style:{color:"#fff",fontSize:"1rem",marginTop:"2rem"},children:"Kg"})}),style:{fontSize:"3rem"}})})}),Object(C.jsx)("div",{children:Object(C.jsx)(de.a,{id:"addWeighingFormDatepicker",label:"When?",type:"datetime-local",autoComplete:"off",value:l,InputLabelProps:{shrink:!0},onChange:function(e){return d(N(e.target.value))}})}),Object(C.jsx)(ve.a,{id:"addWeighingFormAddButton","aria-label":"Add",type:"submit",disabled:!i||!l||g,children:g?Object(C.jsx)(ue.a,{style:{height:"25px",width:"25px"}}):Object(C.jsx)("img",{src:i&&l?me:xe,alt:"Add",style:i&&l&&!g?{width:"100%"}:{width:"100%",opacity:"0.5"}})})]})})]})},we=(n(329),n.p+"static/media/edit.314ec8e2.svg"),Ce=n(45),Se=n(515),ke=n(503),Ae=n(443),Ne=Object(Ce.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #444",borderRadius:"6px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),backgroundImage:"linear-gradient(#a4dad2, #bce08a)",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})),We=function(e){var t=e.id,n=e.weight,a=e.datetime,i=Object(j.useContext)(w),r=Object(j.useContext)(y),c=Ne(),s=Object(j.useState)(!1),l=Object(u.a)(s,2),d=l[0],b=l[1],h=Object(j.useState)(""),g=Object(u.a)(h,2),m=g[0],x=g[1],O=Object(j.useState)(!1),p=Object(u.a)(O,2),v=p[0],S=p[1],k=Object(j.useState)(""),A=Object(u.a)(k,2),W=A[0],_=A[1],D=Object(j.useState)(!1),I=Object(u.a)(D,2),L=I[0],M=I[1],z=Object(j.useState)(!1),E=Object(u.a)(z,2),P=E[0],B=E[1],R=Object(j.useState)(!1),H=Object(u.a)(R,2),J=H[0],q=H[1],U=function(){return b(!1)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T.a,{variant:"contained",color:"primary",size:"small",style:{position:"absolute",right:"1px",top:"3px",minWidth:"0px",padding:"0",borderRadius:"50%"},onClick:function(){return b(!0)},children:Object(C.jsx)("img",{src:we,style:{width:"25px"},alt:"edit"})}),Object(C.jsx)(Se.a,{className:c.modal,open:d,onClose:U,closeAfterTransition:!0,BackdropComponent:ke.a,BackdropProps:{timeout:500},children:Object(C.jsx)(Ae.a,{in:d,children:Object(C.jsxs)("div",{className:c.paper,children:[Object(C.jsx)("h2",{children:"Edit Weighing"}),Object(C.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(C.jsx)("div",{style:{marginBottom:"1.2rem",textAlign:"center"},children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(fe.a,{id:"addWeighingFormWeight",value:v?m:n,type:"number",inputProps:{step:.01,min:0,max:999.99},autoComplete:"off",placeholder:"0.00",onChange:function(e){F("".concat(e.target.value))&&(x(e.target.value),!v&&S(!0))},onKeyDown:function(e){return"e"===e.key&&e.preventDefault()},endAdornment:Object(C.jsx)(pe.a,{position:"end",children:Object(C.jsx)("span",{style:{fontSize:"1rem",marginTop:"2rem"},children:"Kg"})}),style:{fontSize:"3rem"}})})}),Object(C.jsx)("div",{style:{marginBottom:"3rem",textAlign:"center"},children:Object(C.jsx)(de.a,{id:"addWeighingFormDatepicker",label:"When?",type:"datetime-local",autoComplete:"off",value:L?W:a,InputLabelProps:{shrink:!0},onChange:function(e){_(N(e.target.value)),!L&&M(!0)}})}),Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(C.jsx)(T.a,{variant:"contained",color:"secondary",onClick:function(){q(!0);var e={id:t};(function(e,t){return f(e,t,"/delete_weighing")})(i.token,JSON.stringify(e)).then((function(t){U(),r.onRemoveWeighing(e.id),r.onSuccessAlert("Weighing deleted.")})).catch((function(e){return r.onErrorAlert(e)})).finally(q(!1))},disable:J,children:J?Object(C.jsx)(ue.a,{style:{height:"25px",width:"25px"}}):"Delete"}),Object(C.jsx)(T.a,{variant:"contained",color:"primary",onClick:function(){B(!0);var e={id:t,weight:"".concat(v?m:n),datetime:L?W:a};(function(e,t){return f(e,t,"/update_weighing")})(i.token,JSON.stringify(e)).then((function(t){U(),r.onEditWeighing(Object(o.a)(Object(o.a)({},e),{},{weight:+e.weight})),r.onSuccessAlert("Weighing updated.")})).catch((function(e){return r.onErrorAlert(e)})).finally(B(!1))},disabled:!t||!m&&!W||P,children:P?Object(C.jsx)(ue.a,{style:{height:"25px",width:"25px"}}):"Update"}),Object(C.jsx)(T.a,{variant:"contained",onClick:U,children:"Cancel"})]})]})]})})})]})},_e=n.p+"static/media/alert.df96154c.svg",De=n(93),Fe=function(){return Object(C.jsxs)(De.c,{style:{display:"flex",justifyContent:"center"},children:[Object(C.jsx)("img",{src:_e,alt:"alert",style:{marginRight:"10px",width:"50px"}}),Object(C.jsx)("i",{children:"No Weighings to show"})]})},Ie=n(199),Le=n(194),Me=[{label:"is",value:"is",getApplyFilterFn:function(e,t){return e.columnField&&e.value&&e.operatorValue?function(n){var a=t.valueGetter?t.valueGetter(n):n.value;return e.value.indexOf(a)>=0}:null},InputComponent:function(e){var t=e.item,n=e.applyValue;return Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(Ie.a,{shrink:!0,htmlFor:"custom-months-filter",children:"Select month/s"}),Object(C.jsx)(Le.a,{multiple:!0,native:!0,value:t.value,onChange:function(e){for(var a=e.target.options,i=[],r=0,c=a.length;r<c;r+=1)a[r].selected&&i.push(a[r].value);n(Object(o.a)(Object(o.a)({},t),{},{value:i}))},inputProps:{id:"custom-months-filter"},children:W.map((function(e){return Object(C.jsx)("option",{value:e,children:e},e)}))})]})},InputComponentProps:{type:"array"}}],ze=function(){var e=Object(j.useContext)(y),t=e.weighings.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{datetime:new Date(e.datetime),month:(t=e.datetime,W[new Date(t).getMonth()])});var t})),n=[{field:"datetime",type:"dateTime",headerName:"Date & Time",flex:1.5,headerClassName:"weighing-grid-th"},{field:"month",type:"string",headerName:"Month",hide:!0,headerClassName:"weighing-grid-th",filterOperators:Me},{field:"weight",type:"string",headerName:"Weight (kg)",flex:1,headerClassName:"weighing-grid-th",renderCell:function(e){return Object(C.jsxs)("div",{style:{textAlign:"center",width:"100%",position:"relative"},children:[e.value,Object(C.jsx)(We,{id:e.id,weight:e.value,datetime:A(e.row.datetime)})]})}}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{children:"My Weighings"}),Object(C.jsx)(De.a,{autoHeight:!0,rows:t,rowHeight:35,columns:n,disableColumnMenu:!0,disableColumnSelector:!0,disableSelectionOnClick:!0,components:{NoRowsOverlay:Fe,Toolbar:function(){return Object(C.jsxs)(De.d,{children:[Object(C.jsx)(De.b,{}),Object(C.jsx)(De.e,{})]})}},pagination:!0,pageSize:25,className:e.weighings.length?"":"zero-state-grid"})]})},Ee=(n(331),n.p+"static/media/graph.3ad868e4.svg"),Pe=n(510),Be=n(516),Te=n(523),Re=n(513),He=n(507),Je=n(514),qe=n(525),Ue=n(521),Ge=function(){var e=Object(j.useContext)(y),t=Object(j.useState)({}),n=Object(u.a)(t,2),a=n[0],i=n[1],r=Object(j.useState)({}),c=Object(u.a)(r,2),o=c[0],s=c[1],l=Object(j.useState)(window.innerWidth),d=Object(u.a)(l,2),b=d[0],h=d[1],g=function(e){return h(e.target.innerWidth)};Object(j.useEffect)((function(){return window.addEventListener("resize",g),function(){return window.removeEventListener("resize",g)}}),[]);var m=e.weighings.map((function(e){return{x:new Date(e.datetime),y:e.weight}}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h2",{style:{marginBottom:"1rem"},children:"Time Graph"}),e.weighings.length<2?Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(C.jsx)("img",{src:Ee,alt:"graph",style:{margin:"30px",width:"180px"}}),Object(C.jsx)("i",{style:{lineHeight:"1.5rem"},children:"Add at least 2 Weighings to see the Chart"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Pe.a,{width:b,theme:Be.a.material,height:300,scale:{x:"time"},domainPadding:{y:20,x:20},containerComponent:Object(C.jsx)(Te.a,{responsive:!0,zoomDimension:"x",zoomDomain:o,onZoomDomainChange:function(e){return i(e)},style:{width:"100%",height:"275px"}}),children:[Object(C.jsx)(Re.a,{x:13,y:25,style:{fill:"rgb(69, 90, 100)",fontStyle:"italic"},text:"Weight (kg)"}),Object(C.jsx)(He.a,{data:m,animate:{onLoad:{duration:1200}},style:{data:{stroke:"tomato"}}}),Object(C.jsx)(Je.a,{data:m,size:4,animate:{onLoad:{duration:1200}},style:{data:{fill:"tomato"}}})]}),Object(C.jsxs)(Pe.a,{width:b,height:90,scale:{x:"time"},domainPadding:{y:5,x:19},padding:{top:5,left:50,right:50,bottom:30},containerComponent:Object(C.jsx)(qe.a,{responsive:!0,brushDimension:"x",brushDomain:a,onBrushDomainChange:function(e){return s(e)},style:{width:"100%",height:"90px"}}),children:[Object(C.jsx)(Ue.a,{}),Object(C.jsx)(He.a,{data:m,animate:{onLoad:{duration:1200}},style:{data:{stroke:"tomato"}}})]})]})]})},Ke=function(){var e=Object(j.useContext)(w);return Object(C.jsx)("main",{className:oe.a.main,style:{paddingTop:function(){var e,t,n=document.querySelector("header"),a=document.querySelector("nav");return"".concat(Math.max(40+(null!==(e=null===n||void 0===n?void 0:n.clientHeight)&&void 0!==e?e:0)+(null!==(t=null===a||void 0===a?void 0:a.clientHeight)&&void 0!==t?t:0),104),"px")}()},children:e.token?Object(C.jsxs)(L.d,{children:[Object(C.jsx)(L.b,{path:"/",exact:!0,children:Object(C.jsx)(ye,{})}),Object(C.jsx)(L.b,{path:"/grid",children:Object(C.jsx)(ze,{})}),Object(C.jsx)(L.b,{path:"/chart",children:Object(C.jsx)(Ge,{})}),Object(C.jsx)(L.a,{to:"/"})]}):Object(C.jsxs)(L.d,{children:[Object(C.jsx)(L.b,{path:"/",exact:!0,children:Object(C.jsx)(je,{})}),Object(C.jsx)(L.b,{path:"/register",children:Object(C.jsx)(he,{})}),Object(C.jsx)(L.a,{to:"/"})]})})},$e=n(271),Ve=n.n($e),Ye=function(){return Object(C.jsxs)("footer",{className:Ve.a.footer,children:[Object(C.jsx)("p",{children:"Developed by Manuel Figueira - 2021"}),Object(C.jsxs)("p",{children:[Object(C.jsx)("span",{children:"Icons made by "}),Object(C.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"}),Object(C.jsx)("span",{children:" from "}),Object(C.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})]})},Qe=n(272),Xe=n.n(Qe),Ze=n(517),et=n(511),tt=function(e){return Object(C.jsx)(et.a,Object(o.a)({elevation:6,variant:"filled"},e))},nt=function(){var e=Object(j.useContext)(y),t=function(t,n){"clickaway"!==n&&e.onCloseAlert()};return i.a.createPortal(Object(C.jsx)(Ze.a,{className:Xe.a.snackbar,open:e.alert.open,autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},onClose:t,style:{bottom:function(){var e,t=document.querySelector("footer");return"".concat(12+(null!==(e=null===t||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0),"px")}(),position:"fixed"},children:Object(C.jsx)(tt,{onClose:t,severity:e.alert.severity,style:{fontSize:"1rem"},children:e.alert.message})}),document.getElementById("modals-root"))},at=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(re,{}),Object(C.jsx)(Ke,{}),Object(C.jsx)(Ye,{}),Object(C.jsx)(nt,{})]})},it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,526)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};i.a.render(Object(C.jsx)(r.a,{children:Object(C.jsx)(I,{children:Object(C.jsx)(S,{children:Object(C.jsx)(at,{})})})}),document.getElementById("root")),it()}},[[436,1,2]]]);
//# sourceMappingURL=main.2fa9721e.chunk.js.map